version: 1
groups:
  - annotation: ckanext-files
    options:
      - key: ckanext.files.default_storage
        default: default
        description: |
          Default storage used for upload when no explicit storage specified

      - key: ckanext.files.authenticated_uploads.allow
        type: bool
        description: |
            Any authenticated user can upload files.

      - key: ckanext.files.authenticated_uploads.storages
        type: list
        default: [default]
        description: |
            Names of storages that can by used by non-sysadmin users when
            authenticated uploads enabled


      - key: ckanext.files.allow_authenticated_uploads
        type: bool
        description: |
            Any authenticated user can upload files.


      - key: ckanext.files.owner.cascade_access
        type: list
        description: |
          List of owner types that grant access on owned file to anyone who has
          access to the owner of file. For example, if this option has value
          `resource package`, anyone who passes `resource_show` auth, can see
          all files owned by resource; anyone who passes `package_show`, can
          see all files owned by package; anyone who passes
          `package_update`/`resource_update` can modify files owned by
          package/resource; anyone who passes
          `package_delete`/`resource_delete` can delete files owned by
          package/resoure.

      - key: ckanext.files.owner.transfer_as_update
        type: bool
        description: |
            Use `*_update` auth function to check cascade access for ownership
            transfer. Works with `ckanext.files.owner.cascade_access`, which by
            itself will check `*_file_transfer` auth function, but switch to
            `*_update` when this flag is enabled.

      - key: ckanext.files.storage.<NAME>.<OPTION>
        type: dynamic
        description: |
          Configuration of the named storage.
